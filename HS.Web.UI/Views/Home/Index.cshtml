
@using WebAPIDatingAPP;
@model WebAPIDatingAPP.Entities.AppUsers
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script scr="  https://code.jquery.com/jquery-3.7.1.js"></script>
<script scr=" https://cdn.datatables.net/2.0.2/js/dataTables.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.dataTables.css">


@* <style>
    #usersTable {
        font-family: Arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }

    #usersTable th, #usersTable td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }

    #usersTable th {
        background-color: #f2f2f2;
    }

    #usersTable tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    #usersTable tr:hover {
        background-color: #ddd;
    }
</style> *@
@* <table id="usersTable">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
        </tr>
    </thead>
     <tbody>
    </tbody>
</table> *@

<table id="Users"  style="width:100%">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
        </tr>
    </thead>
    <tbody>
    </tbody>

    </table>
<script>
    $(document).ready(function() {

   

        $.ajax({
            url: 'https://localhost:9999/api/AppUsers',
            type: 'GET',
            dataType: 'json',
            success: function(users) {
                displayUsers(users);
            },
            error: function(xhr, status, error) {
                console.error('Error fetching users:', error);
                console.log('Status code:', xhr.status);
                console.log('Response text:', xhr.responseText);
            }
        });

        function displayUsers(users) {
            debugger; 
            var $tableBody = $('#Users tbody');
            $tableBody.empty();
            users.forEach(function(user) {
                $tableBody.append('<tr><td>' + user.id + '</td><td>' + user.userName + '</td></tr>');
            });
        }
        // function displayUsers(users) {

        //     var $tableBody = $('#usersTable tbody');
        //     $tableBody.empty();
        //     users.forEach(function (user) {
        //         $tableBody.append('<tr><td>' + user.id + '</td><td>' + user.userName + '</td></tr>');
        //     });
        // }
        
    });
</script>